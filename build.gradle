plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.7'
}

compileJava {
    options.compilerArgs += ["-Xlint"]
}

group 'gitflow4idea'
version '0.6.8'

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

intellij {
    version '2019.1'
    plugins 'git4idea', 'tasks'
}

patchPluginXml {
    pluginId "Gitflow"
    pluginDescription 'Git Flow Integration'
    version '0.6.8'
    sinceBuild '182.0'
    untilBuild '192.*'
    changeNotes """
      <H2>Changelog for 0.6.8</H2>         
      <ul>
        <li>Support for Idea build 191 #221 (@ottnorml)</li>
        <li>Fix performance issues in plugin #195 (@bmwsedee)</li>            
      </ul>
    
    <p>Note - if you see 'no gitflow' in the status bar you will need to re-init using <code>git flow init -f</code></p>
      """
}
